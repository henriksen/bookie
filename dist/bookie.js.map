{"version":3,"file":"bookie.js","mappings":"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","sources":["webpack://bookie/./node_modules/camelcase-keys/index.js","webpack://bookie/./node_modules/camelcase/index.js","webpack://bookie/./node_modules/map-obj/index.js","webpack://bookie/./node_modules/quick-lru/index.js","webpack://bookie/./src/bookie.ts","webpack://bookie/webpack/bootstrap","webpack://bookie/webpack/startup"],"sourcesContent":["'use strict';\nconst mapObj = require('map-obj');\nconst camelCase = require('camelcase');\nconst QuickLru = require('quick-lru');\n\nconst has = (array, key) => array.some(x => {\n\tif (typeof x === 'string') {\n\t\treturn x === key;\n\t}\n\n\tx.lastIndex = 0;\n\treturn x.test(key);\n});\n\nconst cache = new QuickLru({maxSize: 100000});\n\n// Reproduces behavior from `map-obj`\nconst isObject = value =>\n\ttypeof value === 'object' &&\n\tvalue !== null &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst camelCaseConvert = (input, options) => {\n\tif (!isObject(input)) {\n\t\treturn input;\n\t}\n\n\toptions = {\n\t\tdeep: false,\n\t\tpascalCase: false,\n\t\t...options\n\t};\n\n\tconst {exclude, pascalCase, stopPaths, deep} = options;\n\n\tconst stopPathsSet = new Set(stopPaths);\n\n\tconst makeMapper = parentPath => (key, value) => {\n\t\tif (deep && isObject(value)) {\n\t\t\tconst path = parentPath === undefined ? key : `${parentPath}.${key}`;\n\n\t\t\tif (!stopPathsSet.has(path)) {\n\t\t\t\tvalue = mapObj(value, makeMapper(path));\n\t\t\t}\n\t\t}\n\n\t\tif (!(exclude && has(exclude, key))) {\n\t\t\tconst cacheKey = pascalCase ? `${key}_` : key;\n\n\t\t\tif (cache.has(cacheKey)) {\n\t\t\t\tkey = cache.get(cacheKey);\n\t\t\t} else {\n\t\t\t\tconst returnValue = camelCase(key, {pascalCase});\n\n\t\t\t\tif (key.length < 100) { // Prevent abuse\n\t\t\t\t\tcache.set(cacheKey, returnValue);\n\t\t\t\t}\n\n\t\t\t\tkey = returnValue;\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t};\n\n\treturn mapObj(input, makeMapper(undefined));\n};\n\nmodule.exports = (input, options) => {\n\tif (Array.isArray(input)) {\n\t\treturn Object.keys(input).map(key => camelCaseConvert(input[key], options));\n\t}\n\n\treturn camelCaseConvert(input, options);\n};\n","'use strict';\n\nconst preserveCamelCase = (string, locale) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && /[\\p{Lu}]/u.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && /[\\p{Ll}]/u.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = character.toLocaleLowerCase(locale) === character && character.toLocaleUpperCase(locale) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = character.toLocaleUpperCase(locale) === character && character.toLocaleLowerCase(locale) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = input => {\n\treturn input.replace(/^[\\p{Lu}](?![\\p{Lu}])/gu, m1 => m1.toLowerCase());\n};\n\nconst postProcess = (input, options) => {\n\treturn input.replace(/[_.\\- ]+([\\p{Alpha}\\p{N}_]|$)/gu, (_, p1) => p1.toLocaleUpperCase(options.locale))\n\t\t.replace(/\\d+([\\p{Alpha}\\p{N}_]|$)/gu, m => m.toLocaleUpperCase(options.locale));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? input.toLocaleUpperCase(options.locale) : input.toLocaleLowerCase(options.locale);\n\t}\n\n\tconst hasUpperCase = input !== input.toLocaleLowerCase(options.locale);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, options.locale);\n\t}\n\n\tinput = input.replace(/^[_.\\- ]+/, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input);\n\t} else {\n\t\tinput = input.toLocaleLowerCase();\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = input.charAt(0).toLocaleUpperCase(options.locale) + input.slice(1);\n\t}\n\n\treturn postProcess(input, options);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","'use strict';\n\nconst isObject = value => typeof value === 'object' && value !== null;\n\n// Customized for this use-case\nconst isObjectCustom = value =>\n\tisObject(value) &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n\toptions = {\n\t\tdeep: false,\n\t\ttarget: {},\n\t\t...options\n\t};\n\n\tif (isSeen.has(object)) {\n\t\treturn isSeen.get(object);\n\t}\n\n\tisSeen.set(object, options.target);\n\n\tconst {target} = options;\n\tdelete options.target;\n\n\tconst mapArray = array => array.map(element => isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element);\n\tif (Array.isArray(object)) {\n\t\treturn mapArray(object);\n\t}\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tlet [newKey, newValue, {shouldRecurse = true} = {}] = mapper(key, value, object);\n\n\t\t// Drop `__proto__` keys.\n\t\tif (newKey === '__proto__') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n\t\t\tnewValue = Array.isArray(newValue) ?\n\t\t\t\tmapArray(newValue) :\n\t\t\t\tmapObject(newValue, mapper, options, isSeen);\n\t\t}\n\n\t\ttarget[newKey] = newValue;\n\t}\n\n\treturn target;\n};\n\nmodule.exports = (object, mapper, options) => {\n\tif (!isObject(object)) {\n\t\tthrow new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n\t}\n\n\treturn mapObject(object, mapper, options);\n};\n","'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n","import camelcaseKeys from 'camelcase-keys';\r\n\r\ninterface Source {\r\n  title: string;\r\n  author: {\r\n    family: string;\r\n    given: string;\r\n    droppingParticle: string;\r\n  }[];\r\n  issued: {\r\n    dateParts: (string | number)[];\r\n  };\r\n  URL: string;\r\n  tags: {\r\n    tag: string;\r\n    type: string | null;\r\n  }[];\r\n}\r\n\r\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */ //  Class is only used externally\r\nclass Bookie {\r\n  sources: Source[] | null = null;\r\n  tagElement: HTMLElement | null = null;\r\n  resultsElement: HTMLElement | null = null;\r\n\r\n  async init(elementId: string, filepath: string) {\r\n    const elem = document.getElementById(elementId);\r\n    if (elem === null) {\r\n      return;\r\n    }\r\n    this.sources = await this.request<Source[]>(filepath);\r\n\r\n    elem.innerHTML = '';\r\n    elem.className = 'dsf';\r\n    this.tagElement = document.createElement('div');\r\n    this.tagElement.className = 'bookie__tags';\r\n    elem.appendChild(this.tagElement);\r\n    this.resultsElement = document.createElement('div');\r\n    this.resultsElement.className = 'bookie__result';\r\n    elem.appendChild(this.resultsElement);\r\n\r\n    const tagSet = new Set<string>();\r\n    this.sources.forEach((source) => {\r\n      if (source.tags != null) {\r\n        console.log(source.tags);\r\n\r\n        source.tags.forEach((tag) => {\r\n          if (tag.type === undefined) {\r\n            tagSet.add(tag.tag);\r\n          }\r\n          console.log(tagSet);\r\n        });\r\n      }\r\n    });\r\n\r\n    tagSet.forEach((tag) => {\r\n      if (this.tagElement === null) return;\r\n      const button = document.createElement('button');\r\n      button.textContent = tag;\r\n      button.className = 'bookie__tag';\r\n      button.onclick = () => {\r\n        this.show(tag);\r\n      };\r\n      this.tagElement.appendChild(button);\r\n    });\r\n  }\r\n\r\n  private show(tag: string) {\r\n    if (this.resultsElement === null) return;\r\n    if (this.sources === null) return;\r\n\r\n    this.resultsElement.innerHTML = '';\r\n    const list = document.createElement('ul');\r\n    list.className = 'bookie__result__list';\r\n\r\n    this.resultsElement.appendChild(list);\r\n\r\n    const taggedSources = this.sources.filter(\r\n      (source) =>\r\n        source.tags?.find((t) => t.type === undefined && t.tag === tag) !==\r\n        undefined,\r\n    );\r\n\r\n    taggedSources.forEach((source) => {\r\n      const item = document.createElement('li');\r\n      console.log(source.author);\r\n      if (source.author) {\r\n        const authorData = source.author.find((a) => a.family);\r\n        console.log(authorData);\r\n        if (authorData) {\r\n          const author = document.createElement('span');\r\n          author.textContent =\r\n            authorData.droppingParticle +\r\n            ' ' +\r\n            authorData.family +\r\n            (authorData.given ? ', ' + authorData.given : '') +\r\n            '. ';\r\n          item.appendChild(author);\r\n        }\r\n      }\r\n\r\n      const title = document.createElement('span');\r\n      const titleLink = document.createElement('a') as HTMLAnchorElement;\r\n      titleLink.href = source.URL;\r\n      titleLink.innerText = source.title;\r\n      title.appendChild(titleLink);\r\n      item.appendChild(title);\r\n      item.className = 'bookie__result__item';\r\n\r\n      list.appendChild(item);\r\n    });\r\n  }\r\n\r\n  private async request<TResponse>(\r\n    url: string,\r\n    // `RequestInit` is a type for configuring\r\n    // a `fetch` request. By default, an empty object.\r\n    config: RequestInit = {},\r\n  ): Promise<TResponse> {\r\n    return fetch(url, config)\r\n      .then((response) => response.json())\r\n      .then((json) => camelcaseKeys(json))\r\n      .then((data) => data as TResponse);\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(353);\n"],"names":["mapObj","camelCase","cache","maxSize","isObject","value","RegExp","Error","Date","camelCaseConvert","input","options","deep","pascalCase","exclude","stopPaths","stopPathsSet","Set","makeMapper","parentPath","key","path","undefined","has","array","some","x","lastIndex","test","cacheKey","get","returnValue","length","set","module","exports","Array","isArray","Object","keys","map","TypeError","preserveConsecutiveUppercase","trim","filter","join","toLocaleUpperCase","locale","toLocaleLowerCase","string","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","slice","preserveCamelCase","replace","m1","toLowerCase","charAt","_","p1","m","postProcess","default","isObjectCustom","mapObject","object","mapper","isSeen","WeakMap","target","mapArray","element","entries","newKey","newValue","shouldRecurse","QuickLRU","constructor","this","onEviction","Map","oldCache","_size","_set","delete","peek","deleted","clear","Symbol","iterator","item","oldCacheSize","Math","min","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}